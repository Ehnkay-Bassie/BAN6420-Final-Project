<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Income and Expense Survey Form</title>
</head>
<body>
    <h1>Income and Expense Survey Form</h1>
    <form action="/submit" method="post">
        <!-- First Name Field -->
        <label for="first_name"><strong>First Name:</strong></label>
        <input type="text" id="first_name" name="first_name" required><br><br>

        <!-- Last Name Field -->
        <label for="last_name"><strong>Last Name:</strong></label>
        <input type="text" id="last_name" name="last_name" required><br><br>

        <!-- Age Field -->
        <label for="age"><strong>Age:</strong></label>
        <input type="number" id="age" name="age" required><br><br>

        <!-- Gender Field -->
        <label for="gender"><strong>Gender:</strong></label>
        <select id="gender" name="gender" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
        </select><br><br>

        <!-- Total Income Field -->
        <label for="income"><strong>Total Income:</strong></label>
        <input type="number" id="income" name="income" required><br><br><br>

        <!-- Expenses Section -->
        <label><strong>Expenses: Tick the checkboxes that apply, and input the amount.</strong></label><br>
        
        <!-- Utilities Expense -->
        <label for="utilities_checkbox">Utilities:</label>
        <input type="checkbox" id="utilities_checkbox" name="utilities_checkbox">
        <input type="number" id="utilities" name="utilities" disabled><br><br>

        <!-- Entertainment Expense -->
        <label for="entertainment_checkbox">Entertainment:</label>
        <input type="checkbox" id="entertainment_checkbox" name="entertainment_checkbox">
        <input type="number" id="entertainment" name="entertainment" disabled><br><br>

        <!-- School Fees Expense -->
        <label for="school_fees_checkbox">School Fees:</label>
        <input type="checkbox" id="school_fees_checkbox" name="school_fees_checkbox">
        <input type="number" id="school_fees" name="school_fees" disabled><br><br>

        <!-- Shopping Expense -->
        <label for="shopping_checkbox">Shopping:</label>
        <input type="checkbox" id="shopping_checkbox" name="shopping_checkbox">
        <input type="number" id="shopping" name="shopping" disabled><br><br>

        <!-- Healthcare Expense -->
        <label for="healthcare_checkbox">Healthcare:</label>
        <input type="checkbox" id="healthcare_checkbox" name="healthcare_checkbox">
        <input type="number" id="healthcare" name="healthcare" disabled><br><br><br>

        <!-- Submit Button -->
        <input type="submit" value="Submit">
    </form>

    <!-- Success Alert -->
    {% if success %}
    <script>
        alert('Form has been successfully submitted!');
    </script>
    {% endif %}

    <!-- JavaScript to Enable/Disable Input Fields Based on Checkbox State -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Select all checkbox elements
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            
            // Iterate over each checkbox
            checkboxes.forEach(checkbox => {
                // Add change event listener to each checkbox
                checkbox.addEventListener('change', () => {
                    // Select the next sibling input field (assumed to be the corresponding expense input)
                    const inputField = checkbox.nextElementSibling;
                    // Enable or disable the input field based on the checkbox state
                    inputField.disabled = !checkbox.checked;
                });
            });
        });
    </script>
</body>
</html>